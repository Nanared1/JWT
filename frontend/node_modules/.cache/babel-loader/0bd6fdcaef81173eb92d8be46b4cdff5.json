{"ast":null,"code":"import _slicedToArray from \"/Users/nanabaahabekah/Documents/Javascript/JWT/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nanabaahabekah/Documents/Javascript/JWT/frontend/src/components/Protected.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport { UserContext } from '../App';\n\nconst Protected = () => {\n  const _useContext = useContext(UserContext),\n        _useContext2 = _slicedToArray(_useContext, 1),\n        user = _useContext2[0];\n\n  const _useState = useState('You need to login'),\n        _useState2 = _slicedToArray(_useState, 2),\n        content = _useState2[0],\n        setContent = _useState2[1];\n\n  useEffect(() => {\n    async function fetchProtected() {\n      const result = await (await fetch('http://localhost:4000/protected', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          authorization: \"Bearer \".concat(user.accesstoken)\n        }\n      })).json();\n      if (result.data) setContent(result.data);\n    }\n\n    fetchProtected();\n  }, [user]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, content);\n};\n\nexport default Protected;","map":{"version":3,"sources":["/Users/nanabaahabekah/Documents/Javascript/JWT/frontend/src/components/Protected.js"],"names":["React","useEffect","useState","useContext","UserContext","Protected","user","content","setContent","fetchProtected","result","fetch","method","headers","authorization","accesstoken","json","data"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAsD,OAAtD;AACA,SAASC,WAAT,QAA4B,QAA5B;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA,sBACPF,UAAU,CAACC,WAAD,CADH;AAAA;AAAA,QACfE,IADe;;AAAA,oBAEQJ,QAAQ,CAAC,mBAAD,CAFhB;AAAA;AAAA,QAEfK,OAFe;AAAA,QAENC,UAFM;;AAItBP,EAAAA,SAAS,CAAE,MAAM;AACf,mBAAeQ,cAAf,GAAgC;AAC9B,YAAMC,MAAM,GAAG,MAAM,CAAC,MAAMC,KAAK,CAAC,iCAAD,EAAoC;AACnEC,QAAAA,MAAM,EAAE,MAD2D;AAEnEC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEPC,UAAAA,aAAa,mBAAYR,IAAI,CAACS,WAAjB;AAFN;AAF0D,OAApC,CAAZ,EAMjBC,IANiB,EAArB;AAOA,UAAGN,MAAM,CAACO,IAAV,EAAgBT,UAAU,CAACE,MAAM,CAACO,IAAR,CAAV;AACjB;;AACDR,IAAAA,cAAc;AACf,GAZQ,EAYN,CAACH,IAAD,CAZM,CAAT;AAcA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMC,OAAN,CAAP;AACD,CAnBD;;AAqBA,eAAeF,SAAf","sourcesContent":["import React, { useEffect, useState, useContext} from 'react';\nimport { UserContext } from '../App';\n\nconst Protected = () => {\n  const [user] = useContext(UserContext);\n  const [content, setContent] = useState('You need to login');\n\n  useEffect( () => {\n    async function fetchProtected() {\n      const result = await (await fetch('http://localhost:4000/protected', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          authorization: `Bearer ${user.accesstoken}`\n        }\n      })).json();\n      if(result.data) setContent(result.data);\n    }\n    fetchProtected()\n  }, [user]);\n\n  return <div>{content}</div>\n}\n\nexport default Protected;\n"]},"metadata":{},"sourceType":"module"}